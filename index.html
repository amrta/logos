<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>LOGOS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --bg-main: #141414;
            --bg-panel: #1f1f1f;
            --border-color: #2a2a2a;
            --text-main: #d1d1d1;
            --text-sub: #555555;
            --accent: #06b6d4;
            --terminal-bg: #000000;
            --shadow-panel: 10px 0 30px rgba(0,0,0,0.5);
        }

        .light-mode {
            --bg-main: #f2ebd9;    
            --bg-panel: #ede4d0;   
            --border-color: #c7b897; 
            --text-main: #2a1f15;   
            --text-sub: #7a6e5b;    
            --accent: #922b16;      
            --terminal-bg: #e5dac1;
            --shadow-panel: 5px 0 15px rgba(61, 48, 33, 0.1);
        }

        * {
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            text-rendering: geometricPrecision;
        }

        body {
            font-family: "Times New Roman", "Songti SC", "SimSun", serif;
            background-color: var(--bg-main);
            color: var(--text-main);
            font-size: 16px; 
            line-height: 1.5;
            transition: background 0.2s, color 0.2s;
        }

        /* 物理深度：面板投影 */
        #left-panel { box-shadow: var(--shadow-panel); z-index: 40; }
        #right-panel { box-shadow: var(--shadow-panel); z-index: 40; }

        .recessed {
            box-shadow: inset 2px 2px 10px rgba(0,0,0,0.2);
            border: 1px solid var(--border-color);
        }

        .resizer { width: 8px; cursor: col-resize; z-index: 50; }
        .resizer:hover { border-left: 2px solid var(--accent); }

        /* 3D 核心：加粗线框 */
        .sphere-container { perspective: 1000px; width: 240px; height: 240px; }
        .sphere {
            position: relative; width: 100%; height: 100%; transform-style: preserve-3d;
            animation: rotateSphere 20s linear infinite;
        }
        .sphere-ring {
            position: absolute; width: 100%; height: 100%; 
            border: 1.5px solid var(--accent);
            opacity: 0.3; border-radius: 50%;
        }
        @keyframes rotateSphere { from { transform: rotateY(0deg); } to { transform: rotateY(360deg); } }

        /* 图标按钮样式 */
        .icon-btn {
            display: flex; align-items: center; justify-content: center;
            width: 28px; height: 28px; border-radius: 2px;
            transition: all 0.2s; opacity: 0.4;
        }
        .icon-btn:hover { opacity: 1; background: var(--border-color); color: var(--accent); }
        
        textarea { resize: none; overflow: hidden; background: transparent; outline: none; }
    </style>
</head>
<body class="h-screen w-screen overflow-hidden flex flex-col border-[1px] border-[var(--border-color)]">

    <header class="h-10 border-b border-[var(--border-color)] bg-[var(--bg-panel)] flex items-center px-6 justify-between shrink-0 z-50">
        <div class="flex items-center gap-4">
            <span class="font-bold tracking-[0.3em] text-[var(--accent)] text-2xl uppercase">Logos</span>
        </div>
        
        <div class="flex items-center gap-2">
            <div class="flex items-center gap-2 px-4 border-r border-[var(--border-color)] tabular-nums opacity-30 text-[13px] font-bold">
                <i data-lucide="clock" class="w-3.5 h-3.5"></i>
                <span id="uptime">00:00:00</span>
            </div>
            
            <div class="flex items-center gap-1 pl-2">
                <button onclick="toggleTheme()" class="icon-btn" title="切换昼夜模式">
                    <i data-lucide="sun-moon" class="w-4 h-4"></i>
                </button>
                <button onclick="resetLayout()" class="icon-btn" title="重置界面布局">
                    <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
                </button>
                <div class="w-px h-4 bg-[var(--border-color)] mx-2"></div>
                <button class="icon-btn" title="系统设置">
                    <i data-lucide="settings" class="w-4 h-4"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="flex-1 flex overflow-hidden min-h-0 w-full" id="main-container">
        
        <aside id="left-panel" class="w-[260px] border-r border-[var(--border-color)] bg-[var(--bg-panel)] flex flex-col shrink-0 overflow-hidden">
            <div class="p-4 border-b border-[var(--border-color)] text-[11px] font-bold uppercase opacity-40 tracking-widest">环境监测</div>
            <div class="flex-1 p-6 space-y-8 overflow-y-auto">
                <div class="space-y-4">
                    <div class="space-y-2">
                        <div class="flex justify-between text-xs font-bold"><span>内核负载</span><span class="text-[var(--accent)]">88%</span></div>
                        <div class="h-2 bg-black/10 recessed"><div class="h-full bg-[var(--accent)] w-[88%] shadow-[0_0_8px_var(--accent)]"></div></div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-xs font-bold"><span>物理索引</span><span>142 MB</span></div>
                        <div class="h-2 bg-black/10 recessed"><div class="h-full bg-[var(--accent)] w-[42%] opacity-60"></div></div>
                    </div>
                </div>
                <div class="pt-6 border-t border-[var(--border-color)] space-y-4 text-[13px]">
                    <div class="flex justify-between items-center">
                        <span class="opacity-50 font-bold">安全锁</span>
                        <span class="text-green-700 font-bold uppercase">Locked</span>
                    </div>
                </div>
            </div>
        </aside>

        <div class="resizer" id="left-resizer"></div>

        <main class="flex-1 flex flex-col bg-[var(--bg-main)] min-w-0 overflow-hidden relative">
            <div class="absolute inset-0 opacity-[0.05] pointer-events-none" style="background-image: radial-gradient(var(--text-main) 1px, transparent 1px); background-size: 25px 25px;"></div>

            <div class="h-[65%] border-b border-[var(--border-color)] relative flex items-center justify-center recessed">
                <div class="absolute top-4 left-6 text-[11px] opacity-25 font-bold uppercase tracking-widest italic">Phase 6 Analysis Viewport</div>
                <div class="sphere-container">
                    <div class="sphere" id="3d-sphere"></div>
                </div>
            </div>

            <div class="flex-1 flex min-h-0 bg-black/[0.02]">
                <div class="flex-1 border-r border-[var(--border-color)] p-5 flex flex-col recessed">
                    <div id="logic-stream" class="flex-1 text-[14px] font-serif space-y-1 overflow-hidden" style="color: var(--text-main)">
                        </div>
                </div>
                <div class="w-1/3 p-5 flex flex-col justify-center items-center">
                    <div class="border border-[var(--border-color)] border-dashed w-full h-full flex items-center justify-center opacity-20 text-[11px] font-bold">
                        CHARACTER_PENDING
                    </div>
                </div>
            </div>
        </main>

        <div class="resizer" id="right-resizer"></div>

        <aside id="right-panel" class="w-[320px] border-l border-[var(--border-color)] bg-[var(--bg-panel)] flex flex-col shrink-0 overflow-hidden">
            <div class="h-[35%] p-6 overflow-y-auto border-b border-[var(--border-color)]">
                <div class="font-bold text-xs opacity-40 mb-4 uppercase tracking-widest">诊断审计</div>
                <table class="w-full text-[15px] font-serif border-separate border-spacing-y-2">
                    <tbody class="divide-y divide-[var(--border-color)]">
                        <tr class="h-9"><td>目标序列</td><td class="text-right font-bold">TP53_SEQ_01</td></tr>
                        <tr class="h-9"><td>评分评分</td><td class="text-right text-green-700 font-bold">98.24%</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="flex-1 flex flex-col bg-[var(--terminal-bg)] relative recessed">
                <div class="h-8 bg-[var(--bg-panel)] border-b border-[var(--border-color)] flex items-center px-4 text-[11px] font-bold opacity-40 uppercase">
                    Shell
                </div>
                <div id="terminal" class="flex-1 p-5 text-[15px] font-mono overflow-y-auto space-y-2" style="color: var(--accent)">
                    <div class="opacity-40 italic">System Ready.</div>
                </div>
                <div class="p-5 border-t border-[var(--border-color)] bg-[var(--bg-panel)] flex items-end gap-3">
                    <span class="font-bold text-[var(--accent)] pb-1.5">$</span>
                    <textarea id="terminal-input" rows="1" class="w-full text-[15px] py-1 font-serif font-bold" style="color: var(--text-main)" placeholder="Input command..."></textarea>
                </div>
            </div>
        </aside>
    </div>

    <footer class="h-7 border-t border-[var(--border-color)] bg-[var(--bg-panel)] flex items-center px-6 gap-8 text-[11px] font-bold shrink-0 opacity-40">
        <span class="tracking-widest uppercase">Logos Kernel v6.0.6</span>
        <div class="ml-auto flex items-center gap-4">
            <span>咸阳.秦都 (108.9E / 34.2N)</span>
            <div class="w-2.5 h-2.5 bg-green-700 rounded-full animate-pulse"></div>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        // 3D 核心
        const sphere = document.getElementById('3d-sphere');
        for (let i = 0; i < 18; i++) {
            const ring = document.createElement('div');
            ring.className = 'sphere-ring';
            ring.style.transform = `rotateY(${i * 10}deg) rotateX(${i * 8}deg)`;
            sphere.appendChild(ring);
        }

        // JS 物理拖拽
        const setupResizer = (resizerId, panelId, isLeft) => {
            const resizer = document.getElementById(resizerId);
            const panel = document.getElementById(panelId);
            const container = document.getElementById('main-container');
            let startX, startWidth;

            resizer.addEventListener('mousedown', (e) => {
                startX = e.clientX;
                startWidth = panel.offsetWidth;
                container.style.userSelect = 'none';
                document.addEventListener('mousemove', onMouseMove);
                document.addEventListener('mouseup', onMouseUp);
            });

            function onMouseMove(e) {
                const delta = isLeft ? e.clientX - startX : startX - e.clientX;
                const newWidth = startWidth + delta;
                if (newWidth > 200 && newWidth < 800) panel.style.width = `${newWidth}px`;
            }

            function onMouseUp() {
                container.style.userSelect = 'auto';
                document.removeEventListener('mousemove', onMouseMove);
                document.removeEventListener('mouseup', onMouseUp);
            }
        };
        setupResizer('left-resizer', 'left-panel', true);
        setupResizer('right-resizer', 'right-panel', false);

        // 终端撑开
        const terminalInput = document.getElementById('terminal-input');
        terminalInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 250) + 'px';
        });

        terminalInput.addEventListener('keydown', (e) => {
            if(e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                const cmd = terminalInput.value.trim();
                if(!cmd) return;
                const line = document.createElement('div');
                line.innerHTML = `<span class="opacity-30 mr-2">></span> ${cmd}`;
                document.getElementById('terminal').appendChild(line);
                terminalInput.value = '';
                terminalInput.style.height = 'auto';
                const term = document.getElementById('terminal');
                term.scrollTop = term.scrollHeight;
            }
        });

        function toggleTheme() { document.body.classList.toggle('light-mode'); lucide.createIcons(); }
        function resetLayout() {
            document.getElementById('left-panel').style.width = '260px';
            document.getElementById('right-panel').style.width = '320px';
        }

        let sec = 0;
        setInterval(() => {
            sec++;
            const h = Math.floor(sec/3600).toString().padStart(2,'0');
            const m = Math.floor((sec%3600)/60).toString().padStart(2,'0');
            const s = (sec%60).toString().padStart(2,'0');
            document.getElementById('uptime').innerText = `${h}:${m}:${s}`;
        }, 1000);

        const log = document.getElementById('logic-stream');
        setInterval(() => {
            const div = document.createElement('div');
            div.innerText = `[INFO] TRACE_NODE_${Math.random().toString(36).substr(7).toUpperCase()} :: OK`;
            log.prepend(div);
            if(log.children.length > 15) log.removeChild(log.lastChild);
        }, 2200);
    </script>
</body>
</html>